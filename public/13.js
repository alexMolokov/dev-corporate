webpackJsonp([13],{238:function(t,e,s){var a=s(3)(s(241),s(242),!1,function(t){s(239)},"data-v-64de24a4",null);t.exports=a.exports},239:function(t,e,s){var a=s(240);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s(13)("43c9c375",a,!0,{})},240:function(t,e,s){(t.exports=s(12)(!1)).push([t.i,".inputfile[data-v-64de24a4]{width:100%;height:100%;opacity:0;overflow:hidden;position:absolute;z-index:2;border:1px solid #000}.inputfile+label[data-v-64de24a4]{font-size:11px;text-transform:uppercase;font-weight:500;color:#fff;display:inline-block;padding:7px 20px;border-radius:3px;cursor:pointer;background-color:#00a0c8}.inputfile+label>img[data-v-64de24a4]{display:inline-block;margin:0 5px 5px;width:20px;height:20px;color:#fff}",""])},241:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});s(17);var a=s(60),i=s.n(a),o=s(15),r=s(57),n=s(65);e.default={name:"form-add-ticket",components:{"modal-window":i.a,"error-inform":r,"loading-inform":n},props:{ticketNumber:{type:String}},data:function(){return{id:"article-add",url:"/ticket/article/add",redirect:!1,wide:!0,message:"",files:[]}},computed:{labelForFiles:function(){return this.files.length>1?this.files.length+" "+this.$translate.text("files selected"):0==this.files.length?this.$translate.text("Select files"):this.files[0].name}},mixins:[o],locales:{ru:{"Add Answer":"Добавить ответ","Answer has been added.":"Ответ был отправлен",Message:"Сообщение",Send:"Отправить","Select files":"Выберите файлы","files selected":"файла выбрано"}},methods:{validate:function(){var t=new FormData,e={ticketNumber:this.ticketNumber,message:this.message};for(var s in e)t.append(s,e[s]);if(this.files.length>0)for(var a=0;a<this.files.length;a++){var i=this.files[a];t.append("files["+a+"]",i)}this.send(this.url,t,{headers:{"Content-Type":"multipart/form-data"}})},handleFileUploads:function(){void 0!==this.$refs.files&&(this.files=this.$refs.files.files)}}}},242:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("modal-window",{staticClass:"in",staticStyle:{display:"block"},attrs:{id:"change-password",show:!0,wide:t.wide},on:{close:t.close}},[s("div",{directives:[{name:"translate",rawName:"v-translate"}],attrs:{slot:"title"},slot:"title"},[t._v("Add Answer")]),t._v(" "),s("loading-inform",{attrs:{state:t.state},on:{close:t.close}},[s("div",{staticClass:"window-center",attrs:{slot:"ok-message"},slot:"ok-message"},[s("div",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"complete-body"},[t._v("Answer has been added.")]),t._v(" "),s("div",{staticClass:"button-close-ok"},[s("button",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"btn btn-green",attrs:{type:"button"},on:{click:t.close}},[t._v("Ok")])])]),t._v(" "),s("div",{attrs:{slot:"buttons"},slot:"buttons"})]),t._v(" "),s("form",{attrs:{url:t.url},on:{submit:function(t){t.preventDefault(),t.stopPropagation()}}},[s("div",[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"form-group top-10"},[s("label",{directives:[{name:"translate",rawName:"v-translate"}],attrs:{for:"article_message"}},[t._v("Message")]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("message"),expression:"errors.has('message')"}],staticClass:"help is-danger"},[t._v("*"+t._s(t.errors.first("message")))]),t._v(" "),s("div",{staticClass:"input-group"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"},{name:"validate",rawName:"v-validate",value:{rules:{required:!0,min:5}},expression:"{ rules: { required:true, min:5}}"}],attrs:{name:"message",id:"article_message",rows:"7"},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}},[t._v(t._s(t.message))])])]),t._v(" "),s("div",{staticStyle:{position:"relative"}},[s("input",{ref:"files",staticClass:"inputfile",attrs:{type:"file",multiple:"multiple",id:"files",accept:"image/*, application/pdf,application/msword,application/excel, application/zip"},on:{change:function(e){t.handleFileUploads()}}}),t._v(" "),s("label",{attrs:{for:"files"}},[s("img",{attrs:{src:"/images/icons/icon-download.svg"}}),s("span",[t._v(t._s(t.labelForFiles))])])])])])]),t._v(" "),s("error-inform",{attrs:{err:t.err,state:t.state}}),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:t.validate}},[t._v("Send")])]),t._v(" "),s("input",{attrs:{type:"hidden",name:"ticketNumber"},domProps:{value:t.ticketNumber}})],1)],1)},staticRenderFns:[]}},57:function(t,e,s){var a=s(3)(s(58),s(59),!1,null,null,null);t.exports=a.exports},58:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(14);e.default={name:"error-inform",props:{state:{type:Number,default:a.a.START},err:{type:Object,default:function(){return{validation:[],common:[]}}}},data:function(){return{}},computed:{showError:function(){return(this.err.validation.length>0||this.err.common.length>0)&&this.state==a.a.ERROR}}}},59:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.showError?s("div",{staticClass:"error-block"},[s("div",{staticClass:"alert alert-danger fade in"},[t._l(t.err.validation,function(e){return s("div",{staticClass:"top-10"},[t._v("\n             "+t._s(e.name)+" - "+t._s(e.description)+"\n         ")])}),t._v(" "),t._l(t.err.common,function(e){return s("div",{staticClass:"top-10"},[s("div",{staticClass:"top-10"},[t._v(t._s(e))])])})],2)]):t._e()},staticRenderFns:[]}},60:function(t,e,s){var a=s(3)(s(63),s(64),!1,function(t){s(61)},"data-v-790be6b8",null);t.exports=a.exports},61:function(t,e,s){var a=s(62);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s(13)("50f81d3c",a,!0,{})},62:function(t,e,s){(t.exports=s(12)(!1)).push([t.i,".modal[data-v-790be6b8]{overflow:auto;overflow-y:scroll}",""])},63:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"modal-window",props:{id:{type:String,required:!0},show:{type:Boolean,required:!1},wide:{type:Boolean,default:!1}},watch:{show:function(){this.show?($("body").addClass("dialog-open"),$("body").addClass("modal-open")):($("body").removeClass("dialog-open"),$("body").removeClass("modal-open"))}},methods:{close:function(t){var e=void 0!==t.srcElement?t.srcElement:t.target;"input"==e&&"radio"==e.type||(t.stopPropagation(),this.$emit("close"))},clickInside:function(t){var e=void 0!==t.srcElement?t.srcElement:t.target;"input"==e&&"radio"==e.type||t.stopPropagation()},bclose:function(){$("#"+this.id).trigger("click")}}}},64:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal fade modal-user",attrs:{tabindex:"-1",role:"dialog",id:t.id},on:{click:t.close}},[s("div",{staticClass:"modal-dialog",class:{"modal-dialog-wide":t.wide},attrs:{role:"document"},on:{click:t.clickInside}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:t.bclose}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),s("h4",{staticClass:"modal-title"},[t._t("title",[t._v("Modal Title")])],2)]),t._v(" "),s("div",{staticClass:"modal-body"},[t._t("default")],2)])])])},staticRenderFns:[]}},65:function(t,e,s){var a=s(3)(s(66),s(67),!1,null,null,null);t.exports=a.exports},66:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(14);e.default={name:"loading-inform",props:{state:{type:Number,default:a.a.START}},data:function(){return{STATES:a.a}},locales:{ru:{"Loading...":"Отправляем запрос..."}},methods:{close:function(){this.$emit("close")}}}},67:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.state==t.STATES.LOADING?s("div",{staticClass:"loading-info"},[s("div",{staticClass:"window-center"},[s("div",[s("div",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"processing_text"},[t._v("Loading...")])])])]):t._e(),t._v(" "),t.state==t.STATES.ANSWER?s("div",{staticClass:"ok-message"},[s("div",{staticClass:"window-center"},[s("div",{staticClass:"complete-body"},[s("div",{staticClass:"complete-body_text"},[t._t("ok-message")],2)])]),t._v(" "),t._t("buttons",[s("div",{staticClass:"button-close"},[s("button",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"btn btn-green",attrs:{type:"button"},on:{click:t.close}},[t._v("Ok")])])])],2):t._e(),t._v(" "),t.state==t.STATES.REDIRECT?s("div",{staticClass:"ok-message"},[s("div",{staticClass:"window-center"},[s("div",{staticClass:"complete-body"},[s("div",{staticClass:"complete-body_text"},[t._t("ok-message-redirect")],2)])])]):t._e(),t._v(" "),t.state==t.STATES.RELOAD?s("div",{staticClass:"ok-message"},[s("div",{staticClass:"window-center"},[s("div",{staticClass:"complete-body"},[s("div",{staticClass:"complete-body_text"},[t._t("ok-message-reload")],2)])]),t._v(" "),t._t("buttons-reload")],2):t._e()])},staticRenderFns:[]}}});