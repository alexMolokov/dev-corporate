webpackJsonp([15],{142:function(t,e,s){var a=s(143);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s(13)("4657f653",a,!0,{})},143:function(t,e,s){(t.exports=s(12)(!1)).push([t.i,".inputfile[data-v-98da5e28]{width:100%;height:100%;opacity:0;overflow:hidden;position:absolute;z-index:2;border:1px solid #000}.inputfile+label[data-v-98da5e28]{font-size:11px;text-transform:uppercase;font-weight:500;color:#fff;display:inline-block;padding:7px 20px;border-radius:3px;cursor:pointer;background-color:#00a0c8}.inputfile+label>img[data-v-98da5e28]{display:inline-block;margin:0 5px 5px;width:20px;height:20px;color:#fff}",""])},144:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(60),i=s.n(a),r=s(15),o=s.n(r),n=s(57),l=s.n(n),c=s(65),d=s.n(c),u=s(4),v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t};e.default={name:"form-license-request",components:{"modal-window":i.a,"error-inform":l.a,"loading-inform":d.a},props:{server:{type:String}},computed:v({labelForFiles:function(){return this.files.length>1?this.files.length+" "+this.$translate.text("files selected"):0==this.files.length?this.$translate.text("Select file certificate request"):this.files[0].name}},Object(u.d)("servers",["serversMap"])),data:function(){return{id:"certificate-request",url:"/servers/certificate/request",redirect:!1,files:[]}},mixins:[o.a],locales:{ru:{}},methods:v({},Object(u.c)("servers",["updateServer"]),{validate:function(){var t=this,e=new FormData,s={server:this.server};for(var a in s)e.append(a,s[a]);if(this.files.length>0)for(var i=0;i<this.files.length;i++){var r=this.files[i];e.append("files["+i+"]",r)}var o=this.serversMap.get(this.server);this.send(this.url,e,function(e){o.hasCertificateRequest=!0,t.updateServer(o)},{headers:{"Content-Type":"multipart/form-data"}})},handleFileUploads:function(){void 0!==this.$refs.files&&(this.files=this.$refs.files.files)}})}},145:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("modal-window",{staticClass:"in",staticStyle:{display:"block"},attrs:{id:t.id,show:!0},on:{close:t.close}},[s("div",{directives:[{name:"translate",rawName:"v-translate"}],attrs:{slot:"title"},slot:"title"},[t._v("Certificate request")]),t._v(" "),s("loading-inform",{attrs:{state:t.state},on:{close:t.close}},[s("div",{staticClass:"window-center",attrs:{slot:"ok-message"},slot:"ok-message"},[s("div",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"complete-body"},[t._v("Certificate request has been uploaded.")]),t._v(" "),s("div",{staticClass:"button-close-ok"},[s("button",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"btn btn-green",attrs:{type:"button"},on:{click:t.close}},[t._v("Ok")])])]),t._v(" "),s("div",{attrs:{slot:"buttons"},slot:"buttons"})]),t._v(" "),s("form",{attrs:{url:t.url},on:{submit:function(t){t.preventDefault(),t.stopPropagation()}}},[s("div",[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12 top-20"},[s("div",{attrs:{align:"center"}},[s("input",{ref:"files",staticClass:"inputfile",attrs:{type:"file",id:"files",accept:".csr"},on:{change:function(e){t.handleFileUploads()}}}),t._v(" "),s("label",{attrs:{for:"files"}},[s("img",{attrs:{src:"/images/icons/icon-download.svg"}}),s("span",[t._v(t._s(t.labelForFiles))])])])])])]),t._v(" "),s("error-inform",{attrs:{err:t.err,state:t.state}}),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:t.validate}},[t._v("Send")])]),t._v(" "),s("input",{attrs:{type:"hidden",name:"server"},domProps:{value:t.server}})],1)],1)},staticRenderFns:[]}},271:function(t,e,s){var a=s(3)(s(144),s(145),!1,function(t){s(142)},"data-v-98da5e28",null);t.exports=a.exports},57:function(t,e,s){var a=s(3)(s(58),s(59),!1,null,null,null);t.exports=a.exports},58:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(14);e.default={name:"error-inform",props:{state:{type:Number,default:a.a.START},err:{type:Object,default:function(){return{validation:[],common:[]}}}},data:function(){return{}},computed:{showError:function(){return(this.err.validation.length>0||this.err.common.length>0)&&this.state==a.a.ERROR}}}},59:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.showError?s("div",{staticClass:"error-block"},[s("div",{staticClass:"alert alert-danger fade in"},[t._l(t.err.validation,function(e){return s("div",{staticClass:"top-10"},[t._v("\n             "+t._s(e.name)+" - "+t._s(e.description)+"\n         ")])}),t._v(" "),t._l(t.err.common,function(e){return s("div",{staticClass:"top-10"},[s("div",{staticClass:"top-10"},[t._v(t._s(e))])])})],2)]):t._e()},staticRenderFns:[]}},60:function(t,e,s){var a=s(3)(s(63),s(64),!1,function(t){s(61)},"data-v-790be6b8",null);t.exports=a.exports},61:function(t,e,s){var a=s(62);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s(13)("50f81d3c",a,!0,{})},62:function(t,e,s){(t.exports=s(12)(!1)).push([t.i,".modal[data-v-790be6b8]{overflow:auto;overflow-y:scroll}",""])},63:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"modal-window",props:{id:{type:String,required:!0},show:{type:Boolean,required:!1},wide:{type:Boolean,default:!1}},watch:{show:function(){this.show?($("body").addClass("dialog-open"),$("body").addClass("modal-open")):($("body").removeClass("dialog-open"),$("body").removeClass("modal-open"))}},methods:{close:function(t){var e=void 0!==t.srcElement?t.srcElement:t.target;"input"==e&&"radio"==e.type||(t.stopPropagation(),this.$emit("close"))},clickInside:function(t){var e=void 0!==t.srcElement?t.srcElement:t.target;"input"==e&&"radio"==e.type||t.stopPropagation()},bclose:function(){$("#"+this.id).trigger("click")}}}},64:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal fade modal-user",attrs:{tabindex:"-1",role:"dialog",id:t.id},on:{click:t.close}},[s("div",{staticClass:"modal-dialog",class:{"modal-dialog-wide":t.wide},attrs:{role:"document"},on:{click:t.clickInside}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:t.bclose}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),s("h4",{staticClass:"modal-title"},[t._t("title",[t._v("Modal Title")])],2)]),t._v(" "),s("div",{staticClass:"modal-body"},[t._t("default")],2)])])])},staticRenderFns:[]}},65:function(t,e,s){var a=s(3)(s(66),s(67),!1,null,null,null);t.exports=a.exports},66:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(14);e.default={name:"loading-inform",props:{state:{type:Number,default:a.a.START}},data:function(){return{STATES:a.a}},locales:{ru:{"Loading...":"Отправляем запрос..."}},methods:{close:function(){this.$emit("close")}}}},67:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.state==t.STATES.LOADING?s("div",{staticClass:"loading-info"},[s("div",{staticClass:"window-center"},[s("div",[s("div",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"processing_text"},[t._v("Loading...")])])])]):t._e(),t._v(" "),t.state==t.STATES.ANSWER?s("div",{staticClass:"ok-message"},[s("div",{staticClass:"window-center"},[s("div",{staticClass:"complete-body"},[s("div",{staticClass:"complete-body_text"},[t._t("ok-message")],2)])]),t._v(" "),t._t("buttons",[s("div",{staticClass:"button-close"},[s("button",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"btn btn-green",attrs:{type:"button"},on:{click:t.close}},[t._v("Ok")])])])],2):t._e(),t._v(" "),t.state==t.STATES.REDIRECT?s("div",{staticClass:"ok-message"},[s("div",{staticClass:"window-center"},[s("div",{staticClass:"complete-body"},[s("div",{staticClass:"complete-body_text"},[t._t("ok-message-redirect")],2)])])]):t._e(),t._v(" "),t.state==t.STATES.RELOAD?s("div",{staticClass:"ok-message"},[s("div",{staticClass:"window-center"},[s("div",{staticClass:"complete-body"},[s("div",{staticClass:"complete-body_text"},[t._t("ok-message-reload")],2)])]),t._v(" "),t._t("buttons-reload")],2):t._e()])},staticRenderFns:[]}}});